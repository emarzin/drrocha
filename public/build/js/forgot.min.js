$(document).ready(function() {
    var emailInformed = function() {
        var hash, vars = [],
            q = decodeURIComponent(document.URL);
        if (void 0 !== (q = q.split("?")[1])) {
            q = q.split("&");
            for (var i = 0; i < q.length; i++) hash = q[i].split("="), vars.push(hash[1]), vars[hash[0]] = hash[1]
        }
        return vars
    }().email;
    void 0 !== emailInformed && $("#email").val(emailInformed), $("#btnForgotSpinner").hide(), $("#btnForgotLabel").text("Recuperar Senha"), $("#btnForgot").click(function() {
        var errEmail = $("#errEmail");
        errEmail.text("");
        var email = $("#email").val();
        if ("" !== email) {
            $("#btnForgot").prop("disabled", !0), $("#btnForgotLabel").text("Processando"), $("#btnForgotSpinner").show();
            var data = {
                    email: email
                },
                forgot = $.ajax({
                    url: "/api/forgot",
                    type: "POST",
                    data: data
                });
            forgot.done(function(data) {
                errEmail.text(data), $("#btnForgot").hide()
            }), forgot.fail(function(xhr, textStatus) {
                errEmail.text(xhr.responseText), $("#btnForgotSpinner").hide(), $("#btnForgotLabel").text("Recuperar Senha"), $("#btnForgot").prop("disabled", !1)
            })
        } else errEmail.text("Informe seu email cadastrado!")
    })
});